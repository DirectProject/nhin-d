<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	
	<!-- MSBuild documentation found at http://msdn.microsoft.com/en-us/library/0k6kkbsd.aspx -->
	
	<Import Project="$(MSBuildExtensionsPath)\MSBuildCommunityTasks\MSBuild.Community.Tasks.Targets"/>
	
	<UsingTask AssemblyFile="external\xunit\xunit.runner.msbuild.dll" TaskName="Xunit.Runner.MSBuild.xunit" />

	<Target Name="Build">
		<MSBuild Projects=".\build\build.sln" Properties="Configuration=Debug" />
	</Target>

	<ItemGroup>
  		<NUnitAssemblies Include="bin\debug\*UnitTests.dll" Exclude="bin\debug\*XUnitTests.dll" />
	</ItemGroup>
	<ItemGroup>
  		<XUnitAssemblies Include="bin\debug\*XUnitTests.dll" />
	</ItemGroup>
	
	<!-- Requires external\Tigris\MSBuildTasks.msi be installed http://msbuildtasks.tigris.org/ -->
	<!-- After installation the help file is at [Program Files]\MSBuild\MSBuildCommunityTasks\MSBuild.Community.Tasks.chm -->
	<Target Name="Test" DependsOnTargets="Build">
  		<NUnit Assemblies="@(NUnitAssemblies)"
        	WorkingDirectory="."
         	ToolPath="external\nunit\bin\net-2.0"
         	ExcludeCategory="Integration"
         	/>
         <xunit Assembly="@(XUnitAssemblies)" />
	</Target>
</Project>
